(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){"use strict";(function(e){var n=a(117),c=a(25),r=a(26),i=a(28),o=a(27),l=a(29),u=a(47),s=a.n(u),m=a(118),h=a(0),d=a.n(h),f=a(257),b=a(587),p=a(32),g=a(24),E=a(48),v=a(586),O=a(282),j=a(591),y=a(589),k=(a(56),a(258)),C=a(275),S=a(276),w=a(277),x=a(278),R=a(426).SigningRequest,I=a(446)({httpEndpoint:"https://eos.greymass.com"}),F={abi:!1,action:!1,authorization:{actor:"............1",permission:"............1"},callback:{background:!1,url:""},contract:!1,decoded:{},fields:{},loading:!1,uri:!1},A=["eosio","eosio.token","eosio.forum"],z=(a(158),a(552)),U={zlib:{deflateRaw:function(t){return new Uint8Array(z.deflateRawSync(e.from(t)))},inflateRaw:function(t){return new Uint8Array(z.inflateRawSync(e.from(t)))}},abiProvider:{getAbi:function(){var e=Object(m.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getAbi(t);case 2:return e.abrupt("return",e.sent.abi);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).onChangeCallback=function(e,t){var c=t.checked,r=t.name,i=t.value;a.setState({callback:Object.assign({},a.state.callback,Object(n.a)({},r,i||c))})},a.onChangeField=function(e,t){var c=t.name,r=t.value;a.setState({fields:Object.assign({},a.state.fields,Object(n.a)({},c,r))})},a.onResetContract=function(){a.setState({abi:!1,contract:!1})},a.onSelect=function(e,t){var c=t.name,r=t.value;return a.setState(Object(n.a)({},c,r))},a.decode=Object(m.a)(s.a.mark(function e(){var t,n,c,r,i,o,l,u,m,h=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]&&h[0],n=a.state.authorization,c=R.from(t,U),e.next=5,c.getActions();case 5:return r=e.sent,e.next=8,I.getInfo(!0);case 8:return i=e.sent.head_block_num,e.next=11,I.getBlock(i);case 11:return o=e.sent,e.next=14,c.getTransaction(n,o);case 14:l=e.sent,u=c.data.callback.url,m=r[0],a.setState({action:m.name,callback:{background:!1,url:u},contract:m.account,decoded:{actions:r,tx:l,callback:u},fields:Object.assign({},m.data),loading:!1});case 18:case"end":return e.stop()}},e,this)})),a.generate=Object(m.a)(s.a.mark(function e(){var t,n,c,r,i,o,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,t.abi,n=t.action,c=t.authorization,r=t.callback,i=t.contract,o=t.fields,e.next=3,R.create({callback:r,actions:[{account:i,name:n,authorization:[c],data:o}]},U);case 3:l=e.sent,u=l.encode(),a.decode(u),a.setState({uri:u},function(){var e=u.replace("eosio://","");a.props.history.replace("/eosio-uri-builder/".concat(e))});case 7:case"end":return e.stop()}},e,this)})),a.state=Object.assign({},F),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.decode,a=this.props.match;if(a&&a.params&&a.params.uri){var n="eosio://".concat(a.params.uri);this.setState({loading:!0,uri:n},function(){t(n)})}this.state.contract&&!this.state.abi&&I.getAbi(this.state.contract).then(function(t){e.setState({abi:t.abi})})}},{key:"componentWillUpdate",value:function(e,t){var a=this;this.state.contract!==t.contract&&I.getAbi(t.contract).then(function(e){a.setState({abi:e.abi})})}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.abi,c=a.action,r=a.contract,i=a.decoded,o=a.loading,l=a.uri,u=(i.actions,i.tx),s=(i.callback,A.map(function(e){return{key:e,text:e,value:e}}));if(n&&r&&c){var m=n.structs,h=Object(f.find)(m,{name:c});h&&(e=h.fields)}var R=[{menuItem:"Action Data",render:function(){return d.a.createElement(C.a,{fields:e,onChange:t.onChangeField,values:t.state.fields})}},{menuItem:"Callback",render:function(){return d.a.createElement(k.a,{onChange:t.onChangeCallback,values:t.state.callback})}}];return l&&R.push({menuItem:"Generated URI",render:function(){return d.a.createElement(x.a,{uri:l,tx:u})}}),console.log(this.state),d.a.createElement(b.a,{className:"App",style:{paddingTop:"1em"}},d.a.createElement(p.a,null,"EOSIO uri-builder"),d.a.createElement(g.a,{loading:o},d.a.createElement(E.a,null,d.a.createElement(w.a,{contract:r,contractOptions:s,onChange:this.onSelect,onReset:this.onResetContract}),!!n&&d.a.createElement(S.a,{abi:n,action:c,contract:r,onChange:this.onSelect}),!(!c||!e)&&d.a.createElement(d.a.Fragment,null,!!l&&d.a.createElement(g.a,{attached:!0},d.a.createElement(p.a,null,"Resulting URI"),d.a.createElement(v.a,{value:l}),d.a.createElement(O.a,null),d.a.createElement(j.a,{as:"a",content:"Trigger URI in default handler",href:l})),d.a.createElement(g.a,{attached:!0,secondary:!0},d.a.createElement(y.a,{panes:R}),d.a.createElement(O.a,null),d.a.createElement(j.a,{color:"blue",content:"Generate URI",onClick:this.generate}))))))}}]),t}(h.Component);t.a=T}).call(this,a(16).Buffer)},258:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),u=a.n(l),s=a(24),m=a(32),h=a(48),d=a(56),f=a.n(d),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.fields,e.onChange),a=e.values;return u.a.createElement(s.a,{attached:!0},u.a.createElement(s.a,{basic:!0},u.a.createElement(m.a,null,"Callback Configuration"),u.a.createElement(h.a.Field,null,u.a.createElement(h.a.Input,{autoFocus:!0,defaultValue:a.url,label:"Callback URL",name:"url",onChange:t}))),u.a.createElement(s.a,{inverted:!0,basic:!0},u.a.createElement(m.a,null,"Callback Data"),u.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},275:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),u=a.n(l),s=a(48),m=a(24),h=a(32),d=a(56),f=a.n(d),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).getInput=function(e,t){var n=a.props,c=n.onChange,r=n.values,i=e.name,o=e.type,l=a.formatValue(o,r[i]),m=u.a.createElement(s.a.Input,{autoFocus:0===t,value:l,label:"".concat(i," [").concat(o,"]"),name:i,onChange:c});if("[]"===o.substr(o.length-2)){var h=[];l&&l.length>0&&(h=l.map(function(e){return{key:e,value:e,text:e}})),m=u.a.createElement(s.a.Select,{allowAdditions:!0,autoFocus:0===t,options:h,value:l,label:"".concat(i," [").concat(o,"]"),name:i,selection:!0,search:!0,multiple:!0,onChange:c})}return u.a.createElement(s.a.Field,{key:i},m)},a.formatValue=function(e,t){switch(e){case"string":try{return JSON.stringify(JSON.parse(t))}catch(a){}return t;default:return t}return t},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fields,n=(t.onChange,t.values);return u.a.createElement(m.a,{attached:!0},u.a.createElement(m.a,{basic:!0},u.a.createElement(h.a,null,"Field Data"),a.map(function(t,a){return e.getInput(t,a)})),u.a.createElement(m.a,{inverted:!0,basic:!0},u.a.createElement(h.a,null,"Transaction Data"),u.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:n,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},276:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),u=a.n(l),s=a(32),m=a(24),h=a(48),d=a(590),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.abi,a=e.action,n=e.contract,c=(e.contractOptions,e.onChange),r=(e.onReset,t.actions.map(function(e){return{key:e.name,text:e.name,value:e.name}}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(s.a,{inverted:!0,attached:!0},"Select an action from the ",n," contract:"),u.a.createElement(m.a,{attached:!0},u.a.createElement(h.a.Field,null,u.a.createElement(d.a,{defaultValue:a,fluid:!0,name:"action",options:r,onChange:c,search:!0,selection:!0}))))}}]),t}(l.Component);t.a=f},277:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),u=a.n(l),s=a(32),m=a(24),h=a(48),d=a(590),f=a(591),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.contractOptions,n=e.onChange,c=e.onReset;return t?u.a.createElement(m.a,{clearing:!0,attached:"top"},u.a.createElement(s.a,null,u.a.createElement(f.a,{color:"blue",content:"Change Contract",floated:"right",onClick:c,size:"small"}),"Contract:"," ",u.a.createElement("strong",null,t))):u.a.createElement(u.a.Fragment,null,u.a.createElement(s.a,{inverted:!0,attached:"top"},"Select a contract from which to generate a transaction:"),u.a.createElement(m.a,{attached:"bottom"},u.a.createElement(h.a.Field,null,u.a.createElement(d.a,{defaultValue:t,fluid:!0,name:"contract",options:a,onChange:n,search:!0,selection:!0}))))}}]),t}(l.Component);t.a=b},278:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),u=a.n(l),s=a(24),m=a(32),h=a(56),d=a.n(h),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uri,a=e.tx;return u.a.createElement(s.a,{attached:!0},u.a.createElement(m.a,null,"URI Generated:",u.a.createElement(m.a.Subheader,{style:{marginTop:"0.5em"}},u.a.createElement("a",{href:t,target:"_blank"},t))),u.a.createElement(m.a,{size:"small"},"URI Transaction:"),u.a.createElement(d.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"}))}}]),t}(l.Component);t.a=f},295:function(e,t,a){e.exports=a(579)},488:function(e,t){},490:function(e,t){},521:function(e,t){},574:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(73),i=a.n(r),o=a(25),l=a(26),u=a(28),s=a(27),m=a(29),h=a(588),d=a(592),f=a(173),b=(a(574),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement("div",null,c.a.createElement(d.a,{exact:!0,path:"/eosio-uri-builder",component:f.a}),c.a.createElement(d.a,{exact:!0,path:"/eosio-uri-builder/:uri",component:f.a})))}}]),t}(n.Component));i.a.render(c.a.createElement(h.a,{basename:"/"},c.a.createElement(b,null)),document.getElementById("root"))}},[[295,2,1]]]);
//# sourceMappingURL=main.be2edab6.chunk.js.map