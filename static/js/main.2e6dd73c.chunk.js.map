{"version":3,"sources":["containers/index.js","components/form/callback.js","components/form/fields.js","components/selector/action.js","components/selector/contract.js","components/tab/uri.js","App.js","index.js"],"names":["SigningRequest","require","eos","eosjs","httpEndpoint","initialState","abi","action","authorization","actor","permission","callback","background","url","contract","decoded","fields","uri","knownContracts","zlib","opts","deflateRaw","data","Uint8Array","deflateRawSync","Buffer","from","inflateRaw","inflateRawSync","abiProvider","getAbi","_getAbi","Object","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default","a","mark","_callee","account","wrap","_context","prev","next","abrupt","sent","stop","this","_x","apply","arguments","IndexContainer","props","_this","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","onChangeCallback","e","_ref","checked","name","value","setState","assign","state","_Users_aaron_projects_eosio_uri_builder_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","onChangeField","_ref2","onResetContract","onSelect","_ref3","decode","_callee2","actions","head","block","tx","cb","_args2","_context2","length","undefined","getActions","getInfo","head_block_num","getBlock","getTransaction","console","log","generate","_callee3","_this$state","req","_context3","create","encode","_this2","match","params","concat","then","result","nextProps","nextState","_this3","_this4","_this$state2","contractOptions","map","key","text","structs","struct","find","panes","menuItem","render","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","_components_form_fields__WEBPACK_IMPORTED_MODULE_18__","onChange","values","_components_form_callback__WEBPACK_IMPORTED_MODULE_17__","push","_components_tab_uri__WEBPACK_IMPORTED_MODULE_21__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_10__","className","style","paddingTop","semantic_ui_react__WEBPACK_IMPORTED_MODULE_11__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_12__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_13__","_components_selector_contract__WEBPACK_IMPORTED_MODULE_20__","onReset","_components_selector_action__WEBPACK_IMPORTED_MODULE_19__","attached","secondary","semantic_ui_react__WEBPACK_IMPORTED_MODULE_14__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_15__","color","content","onClick","Component","FormCallback","_this$props","react__WEBPACK_IMPORTED_MODULE_5___default","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","basic","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__","Field","Input","autoFocus","defaultValue","label","inverted","react_json_view__WEBPACK_IMPORTED_MODULE_9___default","displayDataTypes","displayObjectSize","iconStyle","src","padding","theme","FormFields","formatValue","type","JSON","stringify","parse","err","field","idx","SelectorAction","actionOptions","Fragment","semantic_ui_react__WEBPACK_IMPORTED_MODULE_9__","fluid","options","search","selection","SelectorContract","clearing","floated","size","TabURI","Subheader","marginTop","href","target","react_json_view__WEBPACK_IMPORTED_MODULE_8___default","App","react_default","BrowserRouter","Route","exact","path","component","ReactDOM","basename","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.2e6dd73c.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { find } from 'lodash';\n\nimport {\n  Button,\n  Container,\n  Checkbox,\n  Divider,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n  Select,\n  Tab,\n  TextArea\n} from 'semantic-ui-react';\n\nimport ReactJson from 'react-json-view';\n\nimport FormCallback from '../components/form/callback';\nimport FormFields from '../components/form/fields';\nimport SelectorAction from '../components/selector/action';\nimport SelectorContract from '../components/selector/contract';\nimport TabURI from '../components/tab/uri';\n\nconst { SigningRequest } = require(\"eosio-uri\");\n\nconst eosjs = require('eosjs')\nconst eos = eosjs({\n  httpEndpoint: 'https://eos.greymass.com'\n});\n\nconst initialState = {\n  abi: false,\n  action: false,\n  authorization: {\n    actor: \"............1\",\n    permission: \"............1\",\n  },\n  callback: {\n    background: false,\n    url: '',\n  },\n  contract: false,\n  decoded: {},\n  fields: {},\n  uri: false,\n};\n\nconst knownContracts = [\n  'eosio',\n  'eosio.token',\n  'eosio.forum',\n];\n\n// opts for the signing request\nconst util = require('util');\nconst zlib = require('zlib');\nconst opts = {\n  // string compression\n  zlib: {\n      deflateRaw: (data) => {\n          return new Uint8Array(zlib.deflateRawSync(Buffer.from(data)))\n      },\n      inflateRaw: (data) => {\n          return new Uint8Array(zlib.inflateRawSync(Buffer.from(data)))\n      },\n  },\n  // provider to retrieve contract abi\n  abiProvider: {\n      getAbi: async (account) => {\n          return (await eos.getAbi(account)).abi\n      }\n  }\n}\n\nclass IndexContainer extends Component {\n  constructor(props) {\n    super(props)\n    this.state = Object.assign({}, initialState);\n  }\n  componentWillMount() {\n    const uriState = {};\n    const { decode, props } = this;\n    const { match } = props;\n    if (match && match.params && match.params.uri) {\n      this.setState({\n        uri: `eosio://${match.params.uri}`\n      }, () => {\n        decode(`eosio://${match.params.uri}`);\n      });\n    }\n    if (this.state.contract && !this.state.abi) {\n      eos.getAbi(this.state.contract).then((result) => {\n        this.setState({ abi: result.abi });\n      });\n    }\n  }\n  componentWillUpdate(nextProps, nextState) {\n    if (\n      this.state.contract !== nextState.contract\n    ) {\n      eos.getAbi(nextState.contract).then((result) => {\n        this.setState({ abi: result.abi });\n      });\n    }\n  }\n\n  onChangeCallback = (e, { checked, name, value }) => {\n    this.setState({\n      callback: Object.assign({}, this.state.callback, {\n        [name]: value || checked\n      })\n    });\n  }\n\n  onChangeField = (e, { name, value }) => {\n    this.setState({\n      fields: Object.assign({}, this.state.fields, {\n        [name]: value\n      })\n    });\n  }\n\n  onResetContract = () => {\n    this.setState({\n      abi: false,\n      contract: false,\n    });\n  }\n\n  onSelect = (e, { name, value }) => this.setState({ [name]: value })\n\n  decode = async (uri = false) => {\n    const {\n      authorization\n    } = this.state;\n    const decoded = SigningRequest.from(uri, opts);\n    const actions = await decoded.getActions();\n    const head = (await eos.getInfo(true)).head_block_num;\n    const block = await eos.getBlock(head);\n    const tx = await decoded.getTransaction(authorization, block);\n    const cb = decoded.data.callback.url;\n    const action = actions[0];\n    console.log(cb)\n    this.setState({\n      action: action.name,\n      callback: {\n        background: false,\n        url: cb\n      },\n      contract: action.account,\n      fields: Object.assign({}, action.data),\n      decoded: {\n        actions,\n        tx,\n        callback: cb,\n      }\n    });\n  }\n\n  generate = async () => {\n    const {\n      abi,\n      action,\n      authorization,\n      callback,\n      contract,\n      fields\n    } = this.state;\n    const req = await SigningRequest.create({\n      callback,\n      actions: [{\n        account: contract,\n        name: action,\n        authorization: [authorization],\n        data: fields\n      }]\n    }, opts);\n    const uri = req.encode();\n    this.decode(uri);\n    this.setState({\n      uri\n    });\n  }\n\n  render() {\n    const {\n      abi,\n      action,\n      contract,\n      decoded,\n      uri,\n    } = this.state;\n    const {\n      actions,\n      tx,\n      callback\n    } = decoded;\n    const contractOptions = knownContracts.map((contract) => (\n      { key: contract, text: contract, value: contract }\n    ));\n    let fields;\n    if (abi && contract && action) {\n      const { structs } = abi;\n      const struct = find(structs, { name: action });\n      if (struct) {\n        ({ fields } = struct);\n      }\n    }\n    const panes = [\n      { menuItem: 'Action Data', render: () => (\n        <FormFields\n          fields={fields}\n          onChange={this.onChangeField}\n          values={this.state.fields}\n        />\n      ) },\n      { menuItem: 'Callback', render: () => (\n        <FormCallback\n          onChange={this.onChangeCallback}\n          values={this.state.callback}\n        />\n      ) },\n    ];\n\n    if (uri) {\n      panes.push({ menuItem: 'Generated URI', render: () => (\n        <TabURI\n          uri={uri}\n          tx={tx}\n        />\n      )});\n    }\n\n    return (\n      <Container className=\"App\" style={{ paddingTop: \"1em\" }}>\n        <Header>\n          EOSIO uri-builder\n        </Header>\n        <Segment>\n          <Form>\n            <SelectorContract\n              contract={contract}\n              contractOptions={contractOptions}\n              onChange={this.onSelect}\n              onReset={this.onResetContract}\n            />\n            {(abi)\n              ? (\n                <SelectorAction\n                  abi={abi}\n                  action={action}\n                  contract={contract}\n                  onChange={this.onSelect}\n                />\n              )\n              : false\n            }\n            {(action && fields)\n              ? (\n                <Segment attached secondary>\n                  <Tab panes={panes} />\n                  <Button\n                    color=\"blue\"\n                    content=\"Generate URI\"\n                    onClick={this.generate}\n                  />\n                </Segment>\n              )\n              : false\n            }\n          </Form>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default IndexContainer;\n","import React, { Component } from 'react';\n\nimport {\n  Button,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nimport ReactJson from 'react-json-view';\n\nclass FormCallback extends Component {\n  render() {\n    const {\n      fields,\n      onChange,\n      values,\n    } = this.props;\n    return (\n      <Segment attached>\n        <Segment basic>\n          <Header>\n            Callback Configuration\n          </Header>\n          <Form.Field>\n            <Form.Input\n              autoFocus\n              defaultValue={values.url}\n              label=\"Callback URL\"\n              name=\"url\"\n              onChange={onChange}\n            />\n          </Form.Field>\n        </Segment>\n        <Segment inverted basic>\n          <Header>\n            Callback Data\n          </Header>\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            iconStyle=\"square\"\n            name={null}\n            src={values}\n            style={{ padding: '1em' }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n      </Segment>\n    );\n  }\n}\n\nexport default FormCallback;\n","import React, { Component } from 'react';\n\nimport {\n  Button,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nimport ReactJson from 'react-json-view';\n\nclass FormFields extends Component {\n  formatValue = (type, value) => {\n    switch (type) {\n      case 'string': {\n        try {\n          // Try re-encoding to ensure it's not an object.\n          return JSON.stringify(JSON.parse(value));\n        } catch(err) {\n          // no catch, ignore\n        }\n        // otherwise just stringify and return\n        return value;\n      }\n      default: {\n        return value;\n      }\n    }\n    return value;\n  }\n  render() {\n    const {\n      fields,\n      onChange,\n      values,\n    } = this.props;\n    return (\n      <Segment attached>\n        <Segment basic>\n          <Header>\n            Field Data\n          </Header>\n          {fields.map((field, idx) => {\n            const { name, type } = field;\n            let value = this.formatValue(type, values[name]);\n            return (\n              <Form.Field key={name}>\n                <Form.Input\n                  autoFocus={(idx === 0)}\n                  value={value}\n                  label={name}\n                  name={name}\n                  onChange={onChange}\n                />\n              </Form.Field>\n            );\n          })}\n        </Segment>\n        <Segment inverted basic>\n          <Header>\n            Transaction Data\n          </Header>\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            iconStyle=\"square\"\n            name={null}\n            src={values}\n            style={{ padding: '1em' }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n      </Segment>\n    );\n  }\n}\n\nexport default FormFields;\n","import React, { Component } from 'react';\n\nimport {\n  Button,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nclass SelectorAction extends Component {\n  render() {\n    const {\n      abi,\n      action,\n      contract,\n      contractOptions,\n      onChange,\n      onReset,\n    } = this.props;\n    const actionOptions = abi.actions.map((action) => (\n      { key: action.name, text: action.name, value: action.name }\n    ));\n    return (\n      <React.Fragment>\n        <Header inverted attached>\n          Select an action from the {contract} contract:\n        </Header>\n        <Segment attached>\n          <Form.Field>\n            <Dropdown\n              defaultValue={action}\n              fluid\n              name=\"action\"\n              options={actionOptions}\n              onChange={onChange}\n              search\n              selection\n            />\n          </Form.Field>\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SelectorAction;\n","import React, { Component } from 'react';\n\nimport {\n  Button,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nclass SelectorContract extends Component {\n  render() {\n    const {\n      contract,\n      contractOptions,\n      onChange,\n      onReset,\n    } = this.props;\n    return (!contract)\n      ? (\n        <React.Fragment>\n          <Header inverted attached='top'>\n            Select a contract from which to generate a transaction:\n          </Header>\n          <Segment attached='bottom'>\n            <Form.Field>\n              <Dropdown\n                defaultValue={contract}\n                fluid\n                name=\"contract\"\n                options={contractOptions}\n                onChange={onChange}\n                search\n                selection\n              />\n            </Form.Field>\n          </Segment>\n        </React.Fragment>\n      )\n      : (\n        <Segment clearing attached='top'>\n          <Header>\n            <Button\n              color=\"blue\"\n              content=\"Change Contract\"\n              floated=\"right\"\n              onClick={onReset}\n              size=\"small\"\n            />\n            Contract:\n            {' '}\n            <strong>{contract}</strong>\n          </Header>\n        </Segment>\n      );\n  }\n}\n\nexport default SelectorContract;\n","import React, { Component } from 'react';\n\nimport {\n  Button,\n  Dropdown,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nimport ReactJson from 'react-json-view';\n\nclass TabURI extends Component {\n  render() {\n    const {\n      uri,\n      tx,\n    } = this.props;\n    return (\n      <Segment attached>\n        <Header>\n          URI Generated:\n          <Header.Subheader style={{ marginTop: '0.5em' }}>\n            <a href={uri} target=\"_blank\">\n              {uri}\n            </a>\n          </Header.Subheader>\n        </Header>\n        <Header size=\"small\">\n          URI Transaction:\n        </Header>\n        <ReactJson\n          displayDataTypes={false}\n          displayObjectSize={false}\n          iconStyle=\"square\"\n          name={null}\n          src={tx}\n          style={{ padding: '1em' }}\n          theme=\"harmonic\"\n        />\n      </Segment>\n    );\n  }\n}\n\nexport default TabURI;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport IndexContainer from './containers/index'\nimport './semantic/dist/semantic.min.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Router>\n        <div>\n          <Route exact path=\"/\" component={IndexContainer}/>\n          <Route path=\"/:uri\" component={IndexContainer}/>\n        </div>\n      </Router>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom'\nReactDOM.render((\n  <BrowserRouter basename='/'>\n    <App/>\n  </BrowserRouter>\n), document.getElementById('root'))\n"],"sourceRoot":""}