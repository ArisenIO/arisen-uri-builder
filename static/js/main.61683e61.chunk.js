(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{166:function(e,t,a){"use strict";(function(e){var n=a(117),c=a(25),r=a(26),i=a(28),o=a(27),l=a(29),s=a(47),u=a.n(s),m=a(118),h=a(0),d=a.n(h),f=a(167),b=a(580),p=a(31),g=a(23),E=a(48),v=a(582),O=a(592),j=a(579),y=a(581),k=a(583),C=(a(56),a(258)),S=a(275),w=a(276),x=a(277),R=a(278),I=a(425).SigningRequest,F=a(445)({httpEndpoint:"https://eos.greymass.com"}),z={abi:!1,action:!1,authorization:{actor:"............1",permission:"............1"},callback:{background:!1,url:""},contract:"eosio",decoded:{},fields:{},loading:!1,uri:!1,uriError:!1},A=["eosio","eosio.token","eosio.forum"],T=(a(158),a(551)),U={zlib:{deflateRaw:function(t){return new Uint8Array(T.deflateRawSync(e.from(t)))},inflateRaw:function(t){return new Uint8Array(T.inflateRawSync(e.from(t)))}},abiProvider:{getAbi:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAbi(t);case 2:return e.abrupt("return",e.sent.abi);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).onChangeCallback=function(e,t){var c=t.checked,r=t.name,i=t.value;a.setState({callback:Object.assign({},a.state.callback,Object(n.a)({},r,i||c))})},a.onChangeField=function(e,t){var c=t.name,r=t.value;a.setState({fields:Object.assign({},a.state.fields,Object(n.a)({},c,r))})},a.onResetContract=function(){a.setState({abi:!1,contract:!1})},a.onSelect=function(e,t){var c=t.name,r=t.value;return a.setState(Object(n.a)({},c,r))},a.decode=Object(m.a)(u.a.mark(function e(){var t,n,c,r,i,o,l,s,m,h=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]&&h[0],n=a.state.authorization,c=I.from(t,U),e.next=5,c.getActions();case 5:return r=e.sent,e.next=8,F.getInfo(!0);case 8:return i=e.sent.head_block_num,e.next=11,F.getBlock(i);case 11:return o=e.sent,e.next=14,c.getTransaction(n,o);case 14:l=e.sent,s=c.data.callback.url,m=r[0],a.setState({action:m.name,callback:{background:!1,url:s},contract:m.account,decoded:{actions:r,tx:l,callback:s},fields:Object.assign({},m.data),loading:!1});case 18:case"end":return e.stop()}},e,this)})),a.generate=Object(m.a)(u.a.mark(function e(){var t,n,c,r,i,o,l,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,t.abi,n=t.action,c=t.authorization,r=t.callback,i=t.contract,o=t.fields,e.prev=1,e.next=4,I.create({callback:r,actions:[{account:i,name:n,authorization:[c],data:o}]},U);case 4:l=e.sent,s=l.encode(),a.decode(s),a.setState({uri:s,uriError:!1},function(){var e=s.replace("eosio://","");a.props.history.replace("/eosio-uri-builder/".concat(e))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a.setState({uriError:e.t0.toString()});case 13:case"end":return e.stop()}},e,this,[[1,10]])})),a.state=Object.assign({},z),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.decode,a=this.props.match;if(a&&a.params&&a.params.uri){var n="eosio://".concat(a.params.uri);this.setState({loading:!0,uri:n},function(){t(n)})}this.state.contract&&!this.state.abi&&F.getAbi(this.state.contract).then(function(t){e.setState({abi:t.abi})})}},{key:"componentWillUpdate",value:function(e,t){var a=this;if(this.state.contract!==t.contract&&F.getAbi(t.contract).then(function(e){console.log(e.abi),a.setState({abi:e.abi})}),this.state.action&&this.state.action!==t.action){console.log(this.state.action,t.action,t);var n=t.abi,c=t.action,r=n.structs,i=Object(f.find)(r,{name:c});if(i){var o=i.fields,l={};o.forEach(function(e){l[e.name]=""}),this.setState({uri:void 0,fields:l})}}}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.abi,c=a.action,r=a.contract,i=a.decoded,o=a.loading,l=a.uri,s=a.uriError,u=(i.actions,i.tx),m=(i.callback,A.map(function(e){return{key:e,text:e,value:e}}));if(n&&r&&c){var h=n.structs,I=Object(f.find)(h,{name:c});I&&(e=I.fields)}var F=[{menuItem:"Action Data",render:function(){return d.a.createElement(S.a,{fields:e,onChange:t.onChangeField,values:t.state.fields})}},{menuItem:"Callback",render:function(){return d.a.createElement(C.a,{onChange:t.onChangeCallback,values:t.state.callback})}}];return l&&F.push({menuItem:"Generated URI",render:function(){return d.a.createElement(R.a,{uri:l,tx:u})}}),console.log(this.state),d.a.createElement(b.a,{className:"App",style:{paddingTop:"1em"}},d.a.createElement(p.a,null,"EOSIO uri-builder"),d.a.createElement(g.a,{loading:o},d.a.createElement(E.a,null,d.a.createElement(x.a,{contract:r,contractOptions:m,onChange:this.onSelect,onReset:this.onResetContract}),!!n&&d.a.createElement(w.a,{abi:n,action:c,contract:r,onChange:this.onSelect}),!(!c||!e)&&d.a.createElement(d.a.Fragment,null,d.a.createElement(g.a,{attached:!0,secondary:!0},d.a.createElement(v.a,{panes:F})),d.a.createElement(g.a,{attached:!0,tertiary:!0},d.a.createElement(O.a,{color:"blue",content:"Generate URI",icon:"certificate",onClick:this.generate}),!!l&&d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,null,"Resulting URI"),d.a.createElement(j.a,{value:l}),d.a.createElement(y.a,null),d.a.createElement(O.a,{as:"a",color:"green",content:"Trigger URI in default handler",icon:"external",href:l})),!!s&&d.a.createElement(k.a,{color:"red",content:s,header:"Transaction Error",icon:"exclamation circle",size:"large"}))))))}}]),t}(h.Component);t.a=D}).call(this,a(16).Buffer)},258:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(23),m=a(31),h=a(48),d=a(56),f=a.n(d),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.fields,e.onChange),a=e.values;return s.a.createElement(u.a,{attached:!0},s.a.createElement(u.a,{basic:!0},s.a.createElement(m.a,null,"Callback Configuration"),s.a.createElement(h.a.Field,null,s.a.createElement(h.a.Input,{autoFocus:!0,defaultValue:a.url,label:"Callback URL",name:"url",onChange:t}))),s.a.createElement(u.a,{inverted:!0,basic:!0},s.a.createElement(m.a,null,"Callback Data"),s.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},275:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(48),m=a(23),h=a(31),d=a(56),f=a.n(d),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).getInput=function(e,t){var n=a.props,c=n.onChange,r=n.values,i=e.name,o=e.type,l=a.formatValue(o,r[i]),m=s.a.createElement(u.a.Input,{autoFocus:0===t,value:l,label:"".concat(i," [").concat(o,"]"),name:i,onChange:c});if("[]"===o.substr(o.length-2)){var h=[];l&&l.length>0&&(h=l.map(function(e){return{key:e,value:e,text:e}})),console.log(l,h),m=s.a.createElement(u.a.Select,{allowAdditions:!0,autoFocus:0===t,options:h,value:l,label:"".concat(i," [").concat(o,"]"),name:i,selection:!0,search:!0,multiple:!0,onChange:c})}return s.a.createElement(u.a.Field,{key:i},m)},a.formatValue=function(e,t){switch(e){case"string":try{return JSON.stringify(JSON.parse(t))}catch(a){}return t;default:return t}return t},a}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fields,n=(t.onChange,t.values);return s.a.createElement(m.a,{attached:!0},s.a.createElement(m.a,{basic:!0},s.a.createElement(h.a,null,"Field Data"),a.map(function(t,a){return e.getInput(t,a)})),s.a.createElement(m.a,{inverted:!0,basic:!0},s.a.createElement(h.a,null,"Transaction Data"),s.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:n,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},276:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(31),m=a(23),h=a(48),d=a(591),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.abi,a=e.action,n=e.contract,c=(e.contractOptions,e.onChange),r=(e.onReset,t.actions.map(function(e){return{key:e.name,text:e.name,value:e.name}}));return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{inverted:!0,attached:!0},"Select an action from the ",n," contract:"),s.a.createElement(m.a,{attached:!0},s.a.createElement(h.a.Field,null,s.a.createElement(d.a,{value:a,fluid:!0,name:"action",options:r,onChange:c,search:!0,selection:!0}))))}}]),t}(l.Component);t.a=f},277:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(31),m=a(23),h=a(48),d=a(591),f=a(592),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.contractOptions,n=e.onChange,c=e.onReset;return t?s.a.createElement(m.a,{clearing:!0,attached:"top"},s.a.createElement(u.a,null,s.a.createElement(f.a,{color:"blue",content:"Change Contract",floated:"right",onClick:c,size:"small"}),"Contract:"," ",s.a.createElement("strong",null,t))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{inverted:!0,attached:"top"},"Select a contract from which to generate a transaction:"),s.a.createElement(m.a,{attached:"bottom"},s.a.createElement(h.a.Field,null,s.a.createElement(d.a,{defaultValue:t,fluid:!0,name:"contract",options:a,onChange:n,search:!0,selection:!0}))))}}]),t}(l.Component);t.a=b},278:function(e,t,a){"use strict";var n=a(25),c=a(26),r=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(23),m=a(31),h=a(56),d=a.n(h),f=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uri,a=e.tx;return s.a.createElement(u.a,{attached:!0},s.a.createElement(m.a,null,"URI Generated:",s.a.createElement(m.a.Subheader,{style:{marginTop:"0.5em"}},s.a.createElement("a",{href:t,target:"_blank"},t))),s.a.createElement(m.a,{size:"small"},"URI Transaction:"),s.a.createElement(d.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"}))}}]),t}(l.Component);t.a=f},294:function(e,t,a){e.exports=a(578)},487:function(e,t){},489:function(e,t){},520:function(e,t){},573:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(74),i=a.n(r),o=a(25),l=a(26),s=a(28),u=a(27),m=a(29),h=a(590),d=a(593),f=a(166),b=(a(573),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement("div",null,c.a.createElement(d.a,{exact:!0,path:"/eosio-uri-builder",component:f.a}),c.a.createElement(d.a,{exact:!0,path:"/eosio-uri-builder/:uri",component:f.a})))}}]),t}(n.Component));i.a.render(c.a.createElement(h.a,{basename:"/"},c.a.createElement(b,null)),document.getElementById("root"))}},[[294,2,1]]]);
//# sourceMappingURL=main.61683e61.chunk.js.map