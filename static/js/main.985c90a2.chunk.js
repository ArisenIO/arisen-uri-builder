(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){"use strict";(function(e){var n=a(38),r=a(25),c=a(26),i=a(28),o=a(27),l=a(29),s=a(49),u=a.n(s),m=a(118),d=a(0),h=a.n(d),f=a(176),b=a(581),p=a(32),g=a(23),v=a(31),E=a(583),O=a(593),j=a(580),S=a(582),y=a(584),k=(a(57),a(258)),C=a(275),x=a(276),w=a(277),R=a(278),I=a(426).SigningRequest,P=a(446)({httpEndpoint:"https://eos.greymass.com"}),M={abi:!1,action:"voteproducer",authorization:{actor:"............1",permission:"............1"},callback:{background:!1,url:""},contract:"eosio",decoded:{},fields:{},fieldsMatchSigner:{},fieldsPromptSigner:{},loading:!1,uri:!1,uriError:!1},A=["eosio","eosio.token","eosio.forum"],F=(a(158),a(552)),T={zlib:{deflateRaw:function(t){return new Uint8Array(F.deflateRawSync(e.from(t)))},inflateRaw:function(t){return new Uint8Array(F.inflateRawSync(e.from(t)))}},abiProvider:{getAbi:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getAbi(t);case 2:return e.abrupt("return",e.sent.abi);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).onChangeCallback=function(e,t){var r=t.checked,c=t.name,i=t.value;a.setState({callback:Object.assign({},a.state.callback,Object(n.a)({},c,i||r))})},a.onChangeField=function(e,t){var r=t.name,c=t.value;a.setState({fields:Object.assign({},a.state.fields,Object(n.a)({},r,c))})},a.onChangeMatchSigner=function(e,t){var r=t.name,c=a.state,i=c.fields,o=c.fieldsMatchSigner,l=c.fieldsPromptSigner,s=!o[r],u={fields:Object.assign({},i,Object(n.a)({},r,s?"............1":"")),fieldsMatchSigner:Object.assign({},o,Object(n.a)({},r,s))};return l[r]&&(u.fieldsPromptSigner=Object.assign({},l,Object(n.a)({},r,!1))),a.setState(u),e.preventDefault(),!1},a.onChangePromptSigner=function(e,t){var r=t.name,c=(t.checked,a.state),i=c.fields,o=c.fieldsMatchSigner,l=c.fieldsPromptSigner,s=!l[r],u={fields:Object.assign({},i,Object(n.a)({},r,s?"............2":"")),fieldsPromptSigner:Object.assign({},l,Object(n.a)({},r,s))};return o[r]&&(u.fieldsMatchSigner=Object.assign({},o,Object(n.a)({},r,!1))),a.setState(u),e.preventDefault(),!1},a.onResetContract=function(){console.log("onResetContract"),a.setState({abi:!1,contract:!1})},a.onSelect=function(e,t){var r=t.name,c=t.value;console.log(r,c),a.setState(Object(n.a)({},r,c))},a.decode=Object(m.a)(u.a.mark(function e(){var t,n,r,c,i,o,l,s,m,d,h,f=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]&&f[0],n=a.state.authorization,r=I.from(t,T),e.next=5,r.getActions();case 5:return c=e.sent,e.next=8,P.getInfo(!0);case 8:return i=e.sent.head_block_num,e.next=11,P.getBlock(i);case 11:return o=e.sent,e.next=14,r.getTransaction(n,o);case 14:l=e.sent,s=r.data.callback.url,m=c[0],d={},h={},Object.keys(m.data).forEach(function(e){var t=m.data[e];"............2"===t&&(h[e]=!0),"............1"===t&&(d[e]=!0)}),console.log(m.data),a.setState({action:m.name,callback:{background:!1,url:s},contract:m.account,decoded:{actions:c,tx:l,callback:s},fields:Object.assign({},m.data),fieldsMatchSigner:d,fieldsPromptSigner:h,loading:!1});case 22:case"end":return e.stop()}},e,this)})),a.generate=Object(m.a)(u.a.mark(function e(){var t,n,r,c,i,o,l,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,t.abi,n=t.action,r=t.authorization,c=t.callback,i=t.contract,o=t.fields,e.prev=1,e.next=4,I.create({callback:c,actions:[{account:i,name:n,authorization:[r],data:o}]},T);case 4:l=e.sent,s=l.encode(),a.decode(s),a.setState({uri:s,uriError:!1},function(){var e=s.replace("eosio://","");a.props.history.replace("/eosio-uri-builder/".concat(e))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a.setState({uriError:e.t0.toString()});case 13:case"end":return e.stop()}},e,this,[[1,10]])})),a.state=Object.assign({},M),a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.decode,a=this.props.match;if(a&&a.params&&a.params.uri){var n="eosio://".concat(a.params.uri);this.setState({loading:!0,uri:n},function(){t(n)})}this.state.contract&&!this.state.abi&&P.getAbi(this.state.contract).then(function(t){e.setState({abi:t.abi})})}},{key:"componentWillUpdate",value:function(e,t){var a=this;if(this.state.contract!==t.contract&&P.getAbi(t.contract).then(function(e){console.log(e.abi),a.setState({abi:e.abi})}),this.state.action&&this.state.action!==t.action){console.log(this.state.action,t.action,t);var n=t.abi,r=t.action,c=n.structs,i=Object(f.find)(c,{name:r});if(i){var o=i.fields,l={};o.forEach(function(e){l[e.name]=""}),this.setState({uri:void 0,fields:l})}}}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.abi,r=a.action,c=a.contract,i=a.decoded,o=a.fieldsMatchSigner,l=a.fieldsPromptSigner,s=a.loading,u=a.uri,m=a.uriError,d=(i.actions,i.tx),I=(i.callback,A.map(function(e){return{key:e,text:e,value:e}}));if(n&&c&&r){var P=n.structs,M=Object(f.find)(P,{name:r});M&&(e=M.fields)}var F=[{menuItem:"Action Data",render:function(){return h.a.createElement(C.a,{fields:e,fieldsMatchSigner:o,fieldsPromptSigner:l,onChange:t.onChangeField,onChangeMatchSigner:t.onChangeMatchSigner,onChangePromptSigner:t.onChangePromptSigner,values:t.state.fields})}},{menuItem:"Callback",render:function(){return h.a.createElement(k.a,{onChange:t.onChangeCallback,values:t.state.callback})}}];return u&&F.push({menuItem:"Generated URI",render:function(){return h.a.createElement(R.a,{uri:u,tx:d})}}),h.a.createElement(b.a,{className:"App",style:{paddingTop:"1em"}},h.a.createElement(p.a,null,"EOSIO uri-builder"),h.a.createElement(g.a,{loading:s},h.a.createElement(v.a,{as:"div",onSubmit:function(){return console.log("onsubmit")}},h.a.createElement(w.a,{contract:c,contractOptions:I,onChange:this.onSelect,onReset:this.onResetContract}),!!n&&h.a.createElement(x.a,{abi:n,action:r,contract:c,onChange:this.onSelect}),!(!r||!e)&&h.a.createElement(h.a.Fragment,null,h.a.createElement(g.a,{attached:!0,secondary:!0},h.a.createElement(E.a,{panes:F})),h.a.createElement(g.a,{attached:!0,tertiary:!0},h.a.createElement(O.a,{color:"blue",content:"Generate URI",icon:"certificate",onClick:this.generate}),!!u&&h.a.createElement(h.a.Fragment,null,h.a.createElement(p.a,null,"Resulting URI"),h.a.createElement(j.a,{value:u}),h.a.createElement(S.a,null),h.a.createElement(O.a,{as:"a",color:"green",content:"Trigger URI in default handler",icon:"external",href:u})),!!m&&h.a.createElement(y.a,{color:"red",content:m,header:"Transaction Error",icon:"exclamation circle",size:"large"}))))))}}]),t}(d.Component);t.a=z}).call(this,a(16).Buffer)},258:function(e,t,a){"use strict";var n=a(25),r=a(26),c=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(23),m=a(32),d=a(31),h=a(57),f=a.n(h),b=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.fields,e.onChange),a=e.values;return s.a.createElement(u.a,{attached:!0},s.a.createElement(u.a,{basic:!0},s.a.createElement(m.a,null,"Callback Configuration"),s.a.createElement(d.a.Field,null,s.a.createElement(d.a.Input,{autoFocus:!0,defaultValue:a.url,label:"Callback URL",name:"url",onChange:t}))),s.a.createElement(u.a,{inverted:!0,basic:!0},s.a.createElement(m.a,null,"Callback Data"),s.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},275:function(e,t,a){"use strict";var n=a(25),r=a(26),c=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(31),m=a(23),d=a(32),h=a(57),f=a.n(h),b=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).getInput=function(e,t){var n=a.props,r=n.fieldsMatchSigner,c=n.fieldsPromptSigner,i=n.onChange,o=n.onChangeMatchSigner,l=n.onChangePromptSigner,d=n.values,h=e.name,f=e.type,b=!!r[h],p=!!c[h],g=b||p,v=a.formatValue(f,d[h]),E=s.a.createElement(u.a.Input,{autoFocus:0===t,label:"".concat(h," [").concat(f,"]"),name:h,onChange:i,value:v});if("[]"===f.substr(f.length-2)){var O=[];v&&v.length>0&&(O=v.map(function(e){return{key:e,value:e,text:e}})),E=s.a.createElement(u.a.Select,{allowAdditions:!0,autoFocus:0===t,options:O,value:v,label:"".concat(h," [").concat(f,"]"),name:h,selection:!0,search:!0,multiple:!0,onChange:i})}return g&&(E=s.a.createElement(u.a.Field,null,s.a.createElement("label",null,"".concat(h," [").concat(f,"]")),s.a.createElement(u.a.Input,{disabled:!0,value:b?"Matching Transaction Signer":"Prompting Transaction Signer"}))),s.a.createElement(m.a,{attached:!0,secondary:t%2},s.a.createElement(u.a.Field,{key:h},E,s.a.createElement(u.a.Checkbox,{checked:r[h],label:"Match to Signer",name:h,onChange:o}),s.a.createElement(u.a.Checkbox,{checked:c[h],label:"Prompt for Signer Input",name:h,onChange:l})))},a.formatValue=function(e,t){switch(e){case"string":try{return JSON.stringify(JSON.parse(t))}catch(a){}return t;default:return t}return t},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fields,n=(t.onChange,t.values);return s.a.createElement(m.a,{attached:!0},s.a.createElement(m.a,{basic:!0},s.a.createElement(d.a,{attached:"top",block:!0},"Action Parameters"),a.map(function(t,a){return e.getInput(t,a)})),s.a.createElement(m.a,{inverted:!0,basic:!0},s.a.createElement(d.a,null,"Transaction Data"),s.a.createElement(f.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:n,style:{padding:"1em"},theme:"harmonic"})))}}]),t}(l.Component);t.a=b},276:function(e,t,a){"use strict";var n=a(282),r=a(25),c=a(26),i=a(28),o=a(27),l=a(29),s=a(0),u=a.n(s),m=a(32),d=a(23),h=a(31),f=a(592),b=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.abi,a=e.action,r=e.contract,c=(e.contractOptions,e.onChange),i=(e.onReset,t.actions.map(function(e){return{key:e.name,text:e.name,value:e.name}})),o=[{key:"_",text:"",value:!1}].concat(Object(n.a)(i));return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{inverted:!0,attached:!0},"Select an action from the ",r," contract:"),u.a.createElement(d.a,{attached:!0},u.a.createElement(h.a.Field,null,u.a.createElement(f.a,{allowAdditions:!0,fluid:!0,name:"action",options:o,onChange:c,search:!0,selection:!0,selectOnBlur:!1,selectOnNavigation:!1,value:a}))))}}]),t}(s.Component);t.a=b},277:function(e,t,a){"use strict";var n=a(25),r=a(26),c=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(32),m=a(23),d=a(31),h=a(592),f=a(593),b=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.contract,a=e.contractOptions,n=e.onChange,r=e.onReset;return t?s.a.createElement(m.a,{clearing:!0,attached:"top"},s.a.createElement(u.a,null,s.a.createElement(f.a,{color:"blue",content:"Change Contract",floated:"right",onClick:r,size:"small"}),"Contract:"," ",s.a.createElement("strong",null,t))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{inverted:!0,attached:"top"},"Select a contract from which to generate a transaction:"),s.a.createElement(m.a,{attached:"bottom"},s.a.createElement(d.a.Field,null,s.a.createElement(h.a,{allowAdditions:!0,fluid:!0,name:"contract",options:a,onChange:n,search:!0,selection:!0,selectOnNavigation:!1,value:t}))))}}]),t}(l.Component);t.a=b},278:function(e,t,a){"use strict";var n=a(25),r=a(26),c=a(28),i=a(27),o=a(29),l=a(0),s=a.n(l),u=a(23),m=a(32),d=a(57),h=a.n(d),f=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uri,a=e.tx;return s.a.createElement(u.a,{attached:!0},s.a.createElement(m.a,null,"URI Generated:",s.a.createElement(m.a.Subheader,{style:{marginTop:"0.5em"}},s.a.createElement("a",{href:t,target:"_blank"},t))),s.a.createElement(m.a,{size:"small"},"URI Transaction:"),s.a.createElement(h.a,{displayDataTypes:!1,displayObjectSize:!1,iconStyle:"square",name:null,src:a,style:{padding:"1em"},theme:"harmonic"}))}}]),t}(l.Component);t.a=f},295:function(e,t,a){e.exports=a(579)},488:function(e,t){},490:function(e,t){},521:function(e,t){},574:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(75),i=a.n(c),o=a(25),l=a(26),s=a(28),u=a(27),m=a(29),d=a(591),h=a(594),f=a(175),b=(a(574),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/eosio-uri-builder",component:f.a}),r.a.createElement(h.a,{exact:!0,path:"/eosio-uri-builder/:uri",component:f.a})))}}]),t}(n.Component));i.a.render(r.a.createElement(d.a,{basename:"/"},r.a.createElement(b,null)),document.getElementById("root"))}},[[295,2,1]]]);
//# sourceMappingURL=main.985c90a2.chunk.js.map